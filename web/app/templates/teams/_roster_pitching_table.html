{# Team Roster Pitching Statistics Table #}
{# Shows individual player pitching stats for a team-year #}
{# Usage: {% include 'teams/_roster_pitching_table.html' with player_pitching_stats=[(player, stats), ...] %} #}

{% if player_pitching_stats and player_pitching_stats|length > 0 %}
<div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
    <div class="bg-blue-700 text-white px-6 py-4">
        <h2 class="text-2xl font-bold">Player Pitching Statistics</h2>
    </div>

    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200" id="roster-pitching-table">
            <thead class="bg-gray-50">
                <tr>
                    <th class="sticky left-0 bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider z-10">Player</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">W</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">L</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">ERA</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">G</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">GS</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">CG</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">SHO</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">SV</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">IP</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">H</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">R</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">ER</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">HR</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">BB</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">K</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">WHIP</th>
                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">WAR</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                {% for player, stats in player_pitching_stats %}
                <tr class="hover:bg-gray-50">
                    <td class="sticky left-0 bg-white hover:bg-gray-50 px-6 py-4 whitespace-nowrap text-sm font-medium z-10">
                        <a href="{{ url_for('players.player_detail', player_id=player.player_id) }}"
                           class="text-blue-600 hover:text-blue-800 hover:underline">
                            {{ player.first_name }} {{ player.last_name }}
                        </a>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.w if stats.w else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.l if stats.l else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ "%.2f"|format(stats.era) if stats.era else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.g if stats.g else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.gs if stats.gs else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.cg if stats.cg else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.sho if stats.sho else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.s if stats.s else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">
                        {% if stats.ip is not none %}
                            {{ stats.ip }}.{{ stats.ipf if stats.ipf else '0' }}
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.ha if stats.ha else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.r if stats.r else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.er if stats.er else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.hra if stats.hra else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.bb if stats.bb else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ stats.k if stats.k else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center">{{ "%.2f"|format(stats.whip) if stats.whip else '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-center font-semibold">{{ "%.1f"|format(stats.war) if stats.war else '-' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endif %}
